// EfxMfc.h : main header file for the EfxMfc DLL
//

#pragma once

#ifdef EFXMFC_EXPORTS
#define EFXMFC_API __declspec(dllexport)
#else
#define EFXMFC_API __declspec(dllimport)
#endif


typedef void (*efxEventCB)(const HANDLE hCtrl, UINT uCtrlID, LPCSTR lpszParam);
typedef void (*efxSysMsgCB)(const HANDLE hCtrl, UINT uCtrlID, int nSysMsg);

EXTERN_C {
	EFXMFC_API int efxInit(LPCSTR lpszEFXDir, efxSysMsgCB fnSysMsg);
	EFXMFC_API void efxExit(void);
	EFXMFC_API int efxProcessMessage(UINT uMilliSec);
	EFXMFC_API void efxMessageLoop(void);
	EFXMFC_API void efxQuit(int nExitCode);

	EFXMFC_API HANDLE efxNewControl(UINT uCtrlID, efxEventCB fnRecvData, efxEventCB fnRecvRealData, efxEventCB fnError);
	EFXMFC_API int efxGetAccountCount(void);
	EFXMFC_API int efxGetAccount(int nIdx, LPSTR lpszAccount);
	EFXMFC_API int efxGetAccountBrcode(LPCSTR lpszAcntNo, LPSTR lpszBrcode);
	EFXMFC_API int efxGetEncryptPassword(LPCSTR lpszPwd, LPSTR lpszEncrypt);
	EFXMFC_API void efxAboutBox(void);

	EFXMFC_API void efxSetSingleData(HANDLE hCtrl, int nIndex, LPCSTR lpszData);
	EFXMFC_API void efxRequestData(HANDLE hCtrl, LPCSTR lpszQryName, LPCSTR lpszParam);
	EFXMFC_API int efxIsMoreNextData(HANDLE hCtrl);
	EFXMFC_API void efxRequestNextData(HANDLE hCtrl, LPCSTR lpszQryName);

	EFXMFC_API int efxGetSingleFieldCount(HANDLE hCtrl);
	EFXMFC_API int efxGetSingleData(HANDLE hCtrl, LPSTR lpszData, int nIndex, int nAttrType);
}

